(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{113:function(e,t,a){},142:function(e,t){},145:function(e,t,a){},146:function(e,t,a){},147:function(e,t,a){},150:function(e,t,a){},152:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),o=a(18),r=a.n(o),l=(a(92),a(41)),c=a(6),s=a(7),u=a(8),m=a(9),d=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function h(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var p=a(26),g=a(154),f=a(157),v=a(158),b=a(159),E=(a(57),a(31)),y=a.n(E);function j(e){var t=Object(n.useState)(""),a=Object(p.a)(t,2),o=a[0],r=a[1],l=Object(n.useState)(""),c=Object(p.a)(l,2),s=c[0],u=c[1];return i.a.createElement("div",{className:"Login"},i.a.createElement("form",{onSubmit:function(e){var t;e.preventDefault(),t="https://www.fartmanjack.heroku.com/login",y.a.post(t,{email:o,password:s},{withCredentials:!0}).then((function(e){console.log(e),e.data.username?console.log("seccessful login"):console.log("Sign in error")}))}},i.a.createElement(g.a,{controlId:"email",bssize:"large"},i.a.createElement(f.a,null,"Email"),i.a.createElement(v.a,{autoFocus:!0,type:"email",value:o,onChange:function(e){return r(e.target.value)}})),i.a.createElement(g.a,{controlId:"password",bssize:"large"},i.a.createElement(f.a,null,"Password"),i.a.createElement(v.a,{value:s,onChange:function(e){return u(e.target.value)},type:"password"})),i.a.createElement(b.a,{block:!0,bssize:"large",disabled:!(o.length>0&&s.length>0),type:"submit"},"Login")))}var k=a(24),O=(a(113),a(82)),w=a.n(O)()("https://fartmanjack.herokuapp.com:3000"),C=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"handleClick",value:function(e){var t=this;e.preventDefault(),w.emit("createGame","nodata"),w.on("createGame",(function(e){t.props.history.push("/table/"+e)}))}},{key:"render",value:function(){return i.a.createElement("div",{className:"Home"},i.a.createElement("div",{className:"lander"},i.a.createElement("h1",null,"Neighborhood"),i.a.createElement("p",null,"Play game with friends even when they're not in the neighborhood.")),i.a.createElement(b.a,{block:!0,bssize:"large",onClick:this.handleClick.bind(this)},"Start a Texas Hold'em Table"))}}]),a}(n.Component),_=(a(145),a(21)),S=(a(146),function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"componentDidMount",value:function(){}},{key:"handleClick",value:function(e){e.preventDefault();var t={gameHash:this.props.gameid,userid:this.props.my_id,balance:100,status:"playing",seat:this.props.id};w.emit("register",t),w.emit("startGame",{gameid:this.props.gameid})}},{key:"render",value:function(){return"empty"==this.props.info?i.a.createElement(_.a,{id:"seat"+this.props.id,style:{width:"14rem"}},i.a.createElement(_.a.Body,null,i.a.createElement(_.a.Title,null),i.a.createElement(b.a,{onClick:this.handleClick.bind(this)},"Sit"),i.a.createElement(_.a.Text,null))):i.a.createElement(_.a,{id:"seat"+this.props.id,style:{width:"14rem"}},i.a.createElement(_.a.Body,null,i.a.createElement(_.a.Title,null,this.props.info.userid),i.a.createElement(_.a.Text,null,this.props.info.balance)),i.a.createElement("div",{className:"cards"},i.a.createElement("div",{id:"card1"},i.a.createElement("img",{src:"/img/cards/"+this.props.info.card1+".svg",width:"75px"})),i.a.createElement("div",{id:"card2"},i.a.createElement("img",{src:"/img/cards/"+this.props.info.card2+".svg",width:"75px"}))))}}]),a}(n.Component)),D=a(23),N=a(155);function A(e){var t=Object(n.useState)(""),a=Object(p.a)(t,2),o=a[0],r=a[1],l=Object(n.useState)(""),c=Object(p.a)(l,2),s=c[0],u=c[1],m=Object(n.useState)(""),d=Object(p.a)(m,2),h=d[0],E=d[1];return i.a.createElement("div",{className:"Register"},i.a.createElement("form",{onSubmit:function(e){console.log(o+s),e.preventDefault(),y.a.post("http://localhost:3000/register",{email:o,password:s,name:h}).then((function(e){console.log(e.data.ops[0]._id),e.data?console.log("reg login"):console.log("Reg error")}))}},i.a.createElement(g.a,{controlId:"email",bssize:"large"},i.a.createElement(f.a,null,"Display Name"),i.a.createElement(v.a,{autoFocus:!0,value:h,onChange:function(e){return E(e.target.value)}}),i.a.createElement(f.a,null,"Email"),i.a.createElement(v.a,{type:"email",value:o,onChange:function(e){return r(e.target.value)}})),i.a.createElement(g.a,{controlId:"password",bssize:"large"},i.a.createElement(f.a,null,"Password"),i.a.createElement(v.a,{value:s,onChange:function(e){return u(e.target.value)},type:"password"})),i.a.createElement(b.a,{block:!0,bssize:"large",disabled:!(o.length>0&&s.length>0&&s.length>0),type:"submit"},"Register")))}i.a.Component;var x=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e,n){var i;return Object(c.a)(this,a),(i=t.call(this,e,n)).handleShow=i.handleShow.bind(Object(D.a)(i)),i.handleClose=i.handleClose.bind(Object(D.a)(i)),i.state={show:!1},i}return Object(s.a)(a,[{key:"handleShow",value:function(){console.log(this.state),this.setState({show:!0})}},{key:"handleClose",value:function(){this.setState({show:!1})}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(N.a,{show:this.state.show,onHide:this.handleClose},i.a.createElement(N.a.Header,{closeButton:!0},i.a.createElement(N.a.Title,null,"Login")),i.a.createElement(N.a.Body,null,i.a.createElement(j,null))))}}]),a}(i.a.Component),R=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"handleClick",value:function(e){e.preventDefault();var t={gameid:this.props.gameid,hash:this.props.my_id,action:"fold"};w.emit("incomingAction",t)}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(b.a,{onClick:this.handleClick.bind(this)},"Fold"))}}]),a}(n.Component),T=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"handleClick",value:function(e){e.preventDefault();var t={gameid:this.props.gameid,hash:this.props.my_id,action:"fold"};w.emit("incomingAction",t)}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(b.a,{onClick:this.handleClick.bind(this)},"Fold"))}}]),a}(n.Component),B=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"handleClick",value:function(e){e.preventDefault();var t={gameid:this.props.gameid,hash:this.props.my_id,action:"call"};w.emit("incomingAction",t)}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(b.a,{onClick:this.handleClick.bind(this)},"Call"))}}]),a}(n.Component),L=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"handleClick",value:function(e){e.preventDefault();var t={gameid:this.props.gameid,hash:this.props.my_id,action:"raise",amt:10};w.emit("incomingAction",t)}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(b.a,{onClick:this.handleClick.bind(this)},"Raise"))}}]),a}(n.Component),M=(a(147),function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){return Object(c.a)(this,a),t.call(this,e)}return Object(s.a)(a,[{key:"render",value:function(){return 3==this.props.actions.length?i.a.createElement("div",null,i.a.createElement("div",{id:"ButtonContainer",className:"mb-2"},i.a.createElement(R,{my_id:this.props.my_id,gameid:this.props.gameid}),i.a.createElement(B,{my_id:this.props.my_id,gameid:this.props.gameid}),i.a.createElement(L,{my_id:this.props.my_id,gameid:this.props.gameid}))):2==this.props.actions.length&&"check"==this.props.actions[0]?i.a.createElement("div",null,i.a.createElement("div",{id:"ButtonContainer",className:"mb-2"},i.a.createElement(T,{my_id:this.props.my_id,gameid:this.props.gameid}),i.a.createElement(L,{my_id:this.props.my_id,gameid:this.props.gameid}))):2==this.props.actions.length&&"fold"==this.props.actions[0]?i.a.createElement("div",null,i.a.createElement("div",{id:"ButtonContainer",className:"mb-2"},i.a.createElement(R,{my_id:this.props.my_id,gameid:this.props.gameid}),i.a.createElement(L,{my_id:this.props.my_id,gameid:this.props.gameid}))):i.a.createElement("div",null)}}]),a}(n.Component)),H=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).state={gameid:null,actions:[],seats:[]},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=window.location.pathname.slice(7);this.setState({gameid:t},(function(t){w.emit("seatList",e.state.gameid)})),w.on("publicSeatList",(function(t){var a=JSON.parse(t);a.gameid==e.state.gameid&&(e.setState({gameData:a}),e.setState({seats:a.seats}))})),w.on("update",(function(t){var a=JSON.parse(t);e.setState({gameData:a}),e.setState({seats:a.seats}),console.log(a),null!=a.bettingRound.actionOn&&a.bettingRound.actionOn.hash==e.state.my_id?e.setState({actions:a.bettingRound.nextActionsAvailable}):e.setState({actions:["fold","call","raise"]})}))}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{id:"Table",className:"Table"},this.state.seats.map((function(t,a){return i.a.createElement(S,{id:a,info:e.state.seats[a],gameid:e.state.gameid,my_id:e.props.my_id})})),i.a.createElement("div",{id:"ActionBar"},i.a.createElement(M,{actions:this.state.actions,my_id:this.props.my_id,gameid:this.state.gameid})))}}]),a}(n.Component);var W=a(156),z=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).loginModalRef=function(t){var a=t.handleShow;e.showModal=a},e.onLoginClick=function(){e.showModal()},e}return Object(s.a)(a,[{key:"render",value:function(){var e;return e=null==this.props.my_id?i.a.createElement(b.a,{onClick:this.onLoginClick},"Login"):i.a.createElement("div",null,"Hi,",this.props.my_id," ",i.a.createElement("a",{href:"/logout"},"Logout")),i.a.createElement(W.a,null,i.a.createElement(x,{ref:this.loginModalRef}),i.a.createElement(W.a.Brand,{href:"#home"},"Clint Do-Me Son's Poker Dojo"),i.a.createElement(W.a.Toggle,null),i.a.createElement(W.a.Collapse,{className:"justify-content-end"},e))}}]),a}(n.Component),I=(a(150),a(32)),G=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).state={logged_in:!1,my_id:null,gameData:{},seats:[],actions:["fold","call","raise"]},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;w.emit("handshake","give me my id"),w.on("handshake",(function(t){console.log("My ID is:"+t),e.setState({my_id:t})})),w.emit("createGame","no data"),w.on("createGame",(function(t){console.log("Game ID is:"+t),e.setState({game_id:t}),t}));var t={gameHash:"fart",userid:"5e83a80f4aeeda2c0a258d4f",balance:100,status:"playing",seat:0};w.emit("register",t),t={gameHash:"fart",userid:"5e83aa2c8391902cc37073b9",balance:100,status:"playing",seat:1},w.emit("register",t)}},{key:"render",value:function(){var e,t=this;return i.a.createElement("div",{className:"App container"},i.a.createElement(z,{my_id:this.state.my_id},i.a.createElement(I.b,{to:"/"},"Scratch")),i.a.createElement(k.c,null,i.a.createElement(k.a,(e={path:"/",exact:!0},Object(l.a)(e,"exact",!0),Object(l.a)(e,"exact",!0),Object(l.a)(e,"render",(function(e){return i.a.createElement(C,e)})),e)),i.a.createElement(k.a,{path:"/login",exact:!0,component:j}),i.a.createElement(k.a,{path:"/table/*",exact:!0,render:function(e){return i.a.createElement(H,Object.assign({my_id:t.state.my_id,gameData:t.state.gameData,seats:t.state.seats,actions:t.state.actions},e))}})))}}]),a}(n.Component);a(151);r.a.render(i.a.createElement(I.a,null,i.a.createElement(G,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");d?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):h(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):h(t,e)}))}}()},57:function(e,t,a){},87:function(e,t,a){e.exports=a(152)},92:function(e,t,a){}},[[87,1,2]]]);
//# sourceMappingURL=main.b5d108e1.chunk.js.map