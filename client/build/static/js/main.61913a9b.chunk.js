(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{115:function(e,t,a){},144:function(e,t){},147:function(e,t,a){},148:function(e,t,a){},149:function(e,t,a){},152:function(e,t,a){},154:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(18),o=a.n(r),l=(a(94),a(42)),c=a(6),s=a(7),m=a(8),u=a(9),d=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function h(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var p=a(19),g=a(156),v=a(159),f=a(160),b=a(161),E=(a(58),a(32)),y=a.n(E);function j(e){var t=Object(n.useState)(""),a=Object(p.a)(t,2),r=a[0],o=a[1],l=Object(n.useState)(""),c=Object(p.a)(l,2),s=c[0],m=c[1];return i.a.createElement("div",{className:"Login"},i.a.createElement("form",{onSubmit:function(e){var t;e.preventDefault(),t="https://www.fartmanjack.heroku.com/login",y.a.post(t,{email:r,password:s},{withCredentials:!0}).then((function(e){console.log(e),e.data.username?console.log("successful login"):console.log("Sign in error")}))}},i.a.createElement(g.a,{controlId:"email",bssize:"large"},i.a.createElement(v.a,null,"Email"),i.a.createElement(f.a,{autoFocus:!0,type:"email",value:r,onChange:function(e){return o(e.target.value)}})),i.a.createElement(g.a,{controlId:"password",bssize:"large"},i.a.createElement(v.a,null,"Password"),i.a.createElement(f.a,{value:s,onChange:function(e){return m(e.target.value)},type:"password"})),i.a.createElement(b.a,{block:!0,bssize:"large",disabled:!(r.length>0&&s.length>0),type:"submit"},"Login")))}var O=a(25),k=(a(115),a(84)),w=a.n(k)()("http://localhost:3000"),C=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"handleClick",value:function(e){var t=this;e.preventDefault(),w.emit("createGame","nodata"),w.on("createGame",(function(e){t.props.history.push("/table/"+e)}))}},{key:"render",value:function(){return i.a.createElement("div",{className:"Home"},i.a.createElement("div",{className:"lander"},i.a.createElement("h1",null,"Neighborhood"),i.a.createElement("p",null,"Play game with friends even when they're not in the neighborhood.")),i.a.createElement(b.a,{block:!0,bssize:"large",onClick:this.handleClick.bind(this)},"Start a Texas Hold'em Table"))}}]),a}(n.Component),_=(a(147),a(21)),S=(a(81),a(27));function N(e){var t=Object(n.useState)(""),a=Object(p.a)(t,2),r=a[0],o=a[1];return"empty"==e.info?i.a.createElement(_.a,{id:"seat"+e.id,style:{width:"14rem"}},i.a.createElement(_.a.Body,null,i.a.createElement(_.a.Title,null),i.a.createElement("div",{className:"inputGroup"},i.a.createElement(b.a,{disabled:!(r.length>0&&0==isNaN(r)),onClick:function(t){t.preventDefault();var a={gameHash:e.gameid,userid:e.my_id,balance:r,status:"playing",seat:e.id};w.emit("register",a),w.emit("startGame",{gameid:e.gameid})}},"Sit"),i.a.createElement(S.a,{className:"actionItem mb-3"},i.a.createElement(S.a.Prepend,null,i.a.createElement(S.a.Text,null,"$")),i.a.createElement(f.a,{"aria-label":"Amount",onChange:function(e){return o(e.target.value)}}))),i.a.createElement(_.a.Text,null))):i.a.createElement(_.a,{id:"seat"+e.id,style:{width:"14rem"}},i.a.createElement(_.a.Body,null,i.a.createElement(_.a.Title,null,e.info.userid),i.a.createElement(_.a.Text,null,e.info.balance)),i.a.createElement("div",{className:"cards"},i.a.createElement("div",{id:"card1"},i.a.createElement("img",{src:"/img/cards/"+e.info.card1+".svg",width:"75px"})),i.a.createElement("div",{id:"card2"},i.a.createElement("img",{src:"/img/cards/"+e.info.card2+".svg",width:"75px"}))))}var D=a(24),A=a(157);function x(e){var t=Object(n.useState)(""),a=Object(p.a)(t,2),r=a[0],o=a[1],l=Object(n.useState)(""),c=Object(p.a)(l,2),s=c[0],m=c[1],u=Object(n.useState)(""),d=Object(p.a)(u,2),h=d[0],E=d[1];return i.a.createElement("div",{className:"Register"},i.a.createElement("form",{onSubmit:function(e){console.log(r+s),e.preventDefault(),y.a.post("http://localhost:3000/register",{email:r,password:s,name:h}).then((function(e){console.log(e.data.ops[0]._id),e.data?console.log("reg login"):console.log("Reg error")}))}},i.a.createElement(g.a,{controlId:"email",bssize:"large"},i.a.createElement(v.a,null,"Display Name"),i.a.createElement(f.a,{autoFocus:!0,value:h,onChange:function(e){return E(e.target.value)}}),i.a.createElement(v.a,null,"Email"),i.a.createElement(f.a,{type:"email",value:r,onChange:function(e){return o(e.target.value)}})),i.a.createElement(g.a,{controlId:"password",bssize:"large"},i.a.createElement(v.a,null,"Password"),i.a.createElement(f.a,{value:s,onChange:function(e){return m(e.target.value)},type:"password"})),i.a.createElement(b.a,{block:!0,bssize:"large",disabled:!(r.length>0&&s.length>0&&s.length>0),type:"submit"},"Register")))}i.a.Component;var T=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e,n){var i;return Object(c.a)(this,a),(i=t.call(this,e,n)).handleShow=i.handleShow.bind(Object(D.a)(i)),i.handleClose=i.handleClose.bind(Object(D.a)(i)),i.state={show:!1},i}return Object(s.a)(a,[{key:"handleShow",value:function(){console.log(this.state),this.setState({show:!0})}},{key:"handleClose",value:function(){this.setState({show:!1})}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(A.a,{show:this.state.show,onHide:this.handleClose},i.a.createElement(A.a.Header,{closeButton:!0},i.a.createElement(A.a.Title,null,"Login")),i.a.createElement(A.a.Body,null,i.a.createElement(j,null))))}}]),a}(i.a.Component),B=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"handleClick",value:function(e){e.preventDefault();var t={gameid:this.props.gameid,hash:this.props.my_id,action:"fold"};w.emit("incomingAction",t)}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(b.a,{className:"actionItem",onClick:this.handleClick.bind(this)},"Fold"))}}]),a}(n.Component),I=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"handleClick",value:function(e){e.preventDefault();var t={gameid:this.props.gameid,hash:this.props.my_id,action:"check"};w.emit("incomingAction",t)}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(b.a,{className:"actionItem",onClick:this.handleClick.bind(this)},"Check"))}}]),a}(n.Component),R=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"handleClick",value:function(e){e.preventDefault();var t={gameid:this.props.gameid,hash:this.props.my_id,action:"call"};console.log(t),w.emit("incomingAction",t)}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(b.a,{className:"actionItem",onClick:this.handleClick.bind(this)},"Call"))}}]),a}(n.Component);a(148);function L(e){var t=Object(n.useState)(""),a=Object(p.a)(t,2),r=a[0],o=a[1];return i.a.createElement("div",{id:"raiseModule"},i.a.createElement(b.a,{className:"actionItem",disabled:!(r.length>0&&0==isNaN(r)),onClick:function(t){t.preventDefault(),console.log(r);var a={gameid:e.gameid,hash:e.my_id,action:"raise",amt:r};w.emit("incomingAction",a)}},"Raise"),i.a.createElement(S.a,{className:"actionItem mb-3"},i.a.createElement(S.a.Prepend,null,i.a.createElement(S.a.Text,null,"$")),i.a.createElement(f.a,{"aria-label":"Amount",onChange:function(e){return o(e.target.value)}})))}a(149);var M=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){return Object(c.a)(this,a),t.call(this,e)}return Object(s.a)(a,[{key:"render",value:function(){return 3==this.props.actions.length?i.a.createElement("div",null,i.a.createElement("div",{id:"ButtonContainer",className:"mb-2"},i.a.createElement(B,{my_id:this.props.my_id,gameid:this.props.gameid}),i.a.createElement(R,{my_id:this.props.my_id,gameid:this.props.gameid}),i.a.createElement(L,{my_id:this.props.my_id,gameid:this.props.gameid}))):2==this.props.actions.length&&"check"==this.props.actions[1]?i.a.createElement("div",null,i.a.createElement("div",{id:"ButtonContainer",className:"mb-2"},i.a.createElement(I,{my_id:this.props.my_id,gameid:this.props.gameid}),i.a.createElement(L,{my_id:this.props.my_id,gameid:this.props.gameid}))):2==this.props.actions.length&&"fold"==this.props.actions[1]?i.a.createElement("div",null,i.a.createElement("div",{id:"ButtonContainer",className:"mb-2"},i.a.createElement(B,{my_id:this.props.my_id,gameid:this.props.gameid}),i.a.createElement(L,{my_id:this.props.my_id,gameid:this.props.gameid}))):i.a.createElement("div",null)}}]),a}(n.Component),P=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{id:"Board"},this.props.board.map((function(t,a){if(null!=e.props.board[a])return i.a.createElement("div",{id:"card"+a,className:"boardCard"},i.a.createElement("img",{src:"/img/cards/"+e.props.board[a]+".svg",width:"65px"}))})))}}]),a}(n.Component),W=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).state={gameid:null,actions:[],seats:[],board:[]},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=window.location.pathname.slice(7);this.setState({gameid:t},(function(t){w.emit("seatList",e.state.gameid),w.emit("reconnectionAttempt",{gameid:e.state.gameid,hash:e.props.my_id})})),w.on("publicSeatList",(function(t){var a=JSON.parse(t);a.gameid==e.state.gameid&&(e.setState({gameData:a}),e.setState({seats:a.seats}))})),w.on("update",(function(t){var a=JSON.parse(t);e.setState({gameData:a}),e.setState({seats:a.seats}),e.setState({board:a.board}),console.log(a),null!=a.bettingRound.actionOn&&a.bettingRound.actionOn.hash==e.props.my_id?e.setState({actions:a.bettingRound.nextActionsAvailable}):e.setState({actions:[]})}))}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{id:"Table",className:"Table"},this.state.seats.map((function(t,a){return i.a.createElement(N,{id:a,info:e.state.seats[a],gameid:e.state.gameid,my_id:e.props.my_id})})),i.a.createElement(P,{board:this.state.board}),i.a.createElement("div",{id:"ActionBar"},i.a.createElement(M,{actions:this.state.actions,my_id:this.props.my_id,gameid:this.state.gameid})))}}]),a}(n.Component);var z=a(158),H=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).loginModalRef=function(t){var a=t.handleShow;e.showModal=a},e.onLoginClick=function(){e.showModal()},e}return Object(s.a)(a,[{key:"render",value:function(){var e;return e=null==this.props.my_id?i.a.createElement(b.a,{onClick:this.onLoginClick},"Login"):i.a.createElement("div",null,"Hi,",this.props.my_id," ",i.a.createElement("a",{href:"/logout"},"Logout")),i.a.createElement(z.a,null,i.a.createElement(T,{ref:this.loginModalRef}),i.a.createElement(z.a.Brand,{href:"#home"},"Clint Do-Me Son's Poker Dojo"),i.a.createElement(z.a.Toggle,null),i.a.createElement(z.a.Collapse,{className:"justify-content-end"},e))}}]),a}(n.Component),G=(a(152),a(33)),J=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).state={logged_in:!1,my_id:null,gameData:{},seats:[],my_name:null},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;w.emit("handshake","give me my id"),w.on("handshake",(function(t){console.log("My ID is:"+t),e.setState({my_id:t})}))}},{key:"render",value:function(){var e,t=this;return i.a.createElement("div",{className:"App container"},i.a.createElement(H,{my_id:this.state.my_id,my_name:this.state.my_name},i.a.createElement(G.b,{to:"/"},"Scratch")),i.a.createElement(O.c,null,i.a.createElement(O.a,(e={path:"/",exact:!0},Object(l.a)(e,"exact",!0),Object(l.a)(e,"exact",!0),Object(l.a)(e,"render",(function(e){return i.a.createElement(C,e)})),e)),i.a.createElement(O.a,{path:"/login",exact:!0,component:j}),i.a.createElement(O.a,{path:"/table/*",exact:!0,render:function(e){return i.a.createElement(W,Object.assign({my_id:t.state.my_id},e))}})))}}]),a}(n.Component);a(153);o.a.render(i.a.createElement(G.a,null,i.a.createElement(J,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");d?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):h(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):h(t,e)}))}}()},58:function(e,t,a){},81:function(e,t,a){},89:function(e,t,a){e.exports=a(154)},94:function(e,t,a){}},[[89,1,2]]]);
//# sourceMappingURL=main.61913a9b.chunk.js.map