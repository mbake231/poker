{"ast":null,"code":"import _classCallCheck from\"/Users/michaelehinger/poker/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/michaelehinger/poker/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _createSuper from\"/Users/michaelehinger/poker/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import _inherits from\"/Users/michaelehinger/poker/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import\"./Table.css\";import PlayerChevron from\"../components/PlayerChevron\";import ActionBar from\"../components/ActionBar\";import socket from'../socket';var Table=/*#__PURE__*/function(_Component){_inherits(Table,_Component);var _super=_createSuper(Table);function Table(){var _this;_classCallCheck(this,Table);_this=_super.call(this);_this.state={gameid:null,actions:[],seats:[]};return _this;}_createClass(Table,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;var gameid=window.location.pathname.slice(7);this.setState({gameid:gameid},function(res){socket.emit('seatList',_this2.state.gameid);});socket.on('publicSeatList',function(publicData){//console.log(\"incoming update \" + publicData);\nvar data=JSON.parse(publicData);if(data.gameid==_this2.state.gameid){_this2.setState({gameData:data});_this2.setState({seats:data.seats});}});socket.on('update',function(privateData){//console.log(\"incoming update \" + privateData);\nvar data=JSON.parse(privateData);_this2.setState({gameData:data});_this2.setState({seats:data.seats});console.log(data);if(data.bettingRound.actionOn!=null){if(data.bettingRound.actionOn.hash==_this2.state.my_id){_this2.setState({actions:data.bettingRound.nextActionsAvailable});}else _this2.setState({actions:['fold','call','raise']});}else{_this2.setState({actions:['fold','call','raise']});}});}},{key:\"render\",value:function render(){var _this3=this;return/*#__PURE__*/React.createElement(\"div\",{id:\"Table\",className:\"Table\"},this.state.seats.map(function(seat,i){return/*#__PURE__*/React.createElement(PlayerChevron,{id:i,info:_this3.state.seats[i],gameid:_this3.state.gameid,my_id:_this3.props.my_id});}),/*#__PURE__*/React.createElement(\"div\",{id:\"ActionBar\"},/*#__PURE__*/React.createElement(ActionBar,{actions:this.state.actions,my_id:this.props.my_id,gameid:this.state.gameid})));}}]);return Table;}(Component);export default Table;","map":{"version":3,"sources":["/Users/michaelehinger/poker/client/src/containers/Table.jsx"],"names":["React","Component","PlayerChevron","ActionBar","socket","Table","state","gameid","actions","seats","window","location","pathname","slice","setState","res","emit","on","publicData","data","JSON","parse","gameData","privateData","console","log","bettingRound","actionOn","hash","my_id","nextActionsAvailable","map","seat","i","props"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport \"./Table.css\";\nimport PlayerChevron from \"../components/PlayerChevron\"\nimport ActionBar from \"../components/ActionBar\"\nimport socket from '../socket'\n\n\nclass Table extends Component{\n  constructor() {\n  super();\n  this.state = {\n    gameid:null,\n    actions:[],\n    seats: []\n  }\n    \n  };\n   \ncomponentDidMount() {\n      var gameid = window.location.pathname.slice(7)\n\n      this.setState({gameid:gameid}, (res) => {\n        socket.emit('seatList', this.state.gameid);\n\n      } )\n      \n\n      socket.on('publicSeatList', (publicData) => {\n    //console.log(\"incoming update \" + publicData);\n    const data = JSON.parse(publicData);\n      if(data.gameid==this.state.gameid) {\n      \n      this.setState({gameData:data});  \n      this.setState({seats: data.seats});\n      }\n    });\n\n\n    socket.on('update', (privateData) => {\n      //console.log(\"incoming update \" + privateData);\n\n        const data = JSON.parse(privateData);\n        this.setState({gameData:data});\n        this.setState({seats: data.seats});\n        console.log(data);\n        if(data.bettingRound.actionOn!=null){\n          if(data.bettingRound.actionOn.hash==this.state.my_id) {\n            this.setState({actions:data.bettingRound.nextActionsAvailable})\n          }\n          else\n          this.setState({actions:['fold','call','raise']});\n        }\n        else {\n          this.setState({actions:['fold','call','raise']});\n        }\n      });\n}\n\n        \nrender () {\n\n  return (\n    <div id='Table' className=\"Table\">\n        {this.state.seats.map((seat,i) => {\n            return <PlayerChevron id={i} info={this.state.seats[i]} gameid={this.state.gameid} my_id={this.props.my_id}></PlayerChevron>\n        })}\n      <div id='ActionBar'>\n        <ActionBar actions={this.state.actions} my_id={this.props.my_id} gameid={this.state.gameid}></ActionBar>\n      </div> \n    </div>\n  );\n    }\n}\n\nexport default Table"]},"metadata":{},"sourceType":"module"}